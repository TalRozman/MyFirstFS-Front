<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    Terminal: <input id="terminal"><br>
    Flight Number: <input id="flight_num"><br>
    Gate: <input id="gate"><br>
    STD: <input id="std"><br>
    ETD: <input id="etd"><br>
    <button onclick="addData()">Add Flight</button>

    <div id="display"></div>

    <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>

    <script>
        const MY_SERVER = "https://my-full-stack.onrender.com/"

        const loadData = async() => {
            const res = await axios.get(MY_SERVER)
            display.innerHTML = (res.data.map(flight =>`<h1> <button onclick="delData(${flight["id"]})">Delete Row</button> <button onclick="updData(${flight["id"]})">Update Row</button><br> ID: ${flight["id"]}<br> Terminal: ${flight["terminal"]}<br>Flight number: ${flight["flight_num"]}<br> Gate: ${flight["gate"]}<br> Scheduled Departure Time: ${flight["std"]}<br> Estimate Departure Time: ${flight["etd"]}</h1><hr>`).join(""))
            console.log(res.data) //display date  in console
        }
        loadData()

        const addData = () => {
            axios.post(MY_SERVER, {terminal: terminal.value, flight_num: flight_num.value, gate: gate.value,std: std.value})
        }

        const delData = (id) => {
            console.log(id)
            axios.delete(MY_SERVER + id).then((res) => display.innerHTML = `<h1>product ${id} deleted</h1>`)
        }

        const updData = async (id) => {
            await axios.put(MY_SERVER + id, {terminal: terminal.value, gate: gate.value,etd: etd.value})
        }

    </script>

</body>
</html>